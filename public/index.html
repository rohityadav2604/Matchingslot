<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.js" integrity="sha512-RT3IJsuoHZ2waemM8ccCUlPNdUuOn8dJCH46N3H2uZoY7swMn1Yn7s56SsE2UBMpjpndeZ91hm87TP1oU6ANjQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <title>index</title>
</head>
<body onload = "init()">
    <form method="post" action="http://localhost:3000/slotbook">
        <label for="">bookingid</label>
        <input type="number" name="BookingId">
        <label for="">userid</label>
        <input type="number" name="UserId" id = "userid">
        <label for="">topic</label>
        <input type="text" name="Topic">
        <label for="">slotdateTime</label>
        <input type="text" name="SlotDateTime">
        <label for="">language preferred</label>
        <input type="text" name="LanguagePreffered">
        <label>time</label>
        <input type="number" name="Time">
        <label>email</label>
        <input type="text" name="email">
        <button type="submit" >submit</button>
    </form>
    <!-- <form method = "post" action= "http://localhost:3000/join">
        <label >useridjoin</label>
        <input type="number" name="UserId">
        <button type="submit" id = "join">join</button>
    </form> -->
   
        <label >useridjoin</label>
        <input type="number" name="UserId" , id="useridjoin">
        <button  id = "join">join</button>
        <script>
            function init()
            {
            // console.log("sadasd");
            var socket=io()
             // make connection with server from user side
             console.log("socket script");
             socket.connect('http://localhost:3000');
             // var scoket = io.connect('localhost:3000');
             socket.on('connect',function() {
           console.log('Client has connected to the server!');
           
         });

        let jn = document.querySelector("#join");

        jn.addEventListener("click",(e) => {
            e.preventDefault();
            let uid = document.querySelector("#useridjoin").value;
            socket.emit("userId",uid);
        })

         socket.on('message' , (data) => {

             console.log(data);
            //  console.log(userid);
            window.location = `/video#${data}`;
         })
        //  console.log(uid.value);
         
             console.log(socket);
        }
        </script>
    
    <script src="./script.js"></script>
    
    
  
    
</body>

</html>